网络层-IP协议的转发流程：
————IP协议是如果解决数据在网络中的路由、传输路径的问题？


		假设计算机A连接到 “虚拟的互连网络”
			计算机B连接到 “虚拟的互连网络”
			计算机A往计算机B发送数据
			那么 “虚拟的互连网络” 中，数据具体的传输路径可能是：

				计算机A发送的数据-----链路----->中型网络a-----链路----->路由器e-----链路----->中型网络b-----链路----->路由器f-----链路----->小型网络c-----链路----->计算机B



		逐跳（hop-by-hop）：
			计算机A发出的数据（IP报文）是在传输路径中逐跳、逐跳地来到计算机B的
			首先逐跳到中型网络a，然后逐跳到路由器e...最后逐跳到计算机B



		路由表：

			1.前面学过数据链路层中MAC地址表：A通过网卡发出数据帧，数据帧到达路由器，路由器取出前6字节（目的MAC地址）去匹配对应的网络硬件接口，通过该接口向目的设备发送数据帧

			MAC地址映射表：(————>映射)
					计算机A的硬件地址 MAC(A)————>接口E1
					计算机B的硬件地址 MAC(B)————>接口E2
					计算机C的硬件地址 MAC(C)————>接口E3


			2.路由表则是工作在网络层、IP协议中
				(计算机、路由器都拥有路由表)

			路由表保存的则是：“目的IP地址” 、“下一跳IP地址” 两部分内容
					目的IP地址 “IP1” —————— 下一跳IP地址 “IP4”
					目的IP地址 “IP2” —————— 下一跳IP地址 “IP5”
					目的IP地址 “IP3” —————— 下一跳IP地址 “IP6”
					...



		IP协议的转发流程：

			回到之前的问题————IP协议是如果解决数据在网络中的路由、传输路径的问题？
			计算机A通过链路连接着路由器E，路由器E通过链路连接着路由器F，路由器F通过链路连着计算机C
				若此时计算机A要发数据给计算机C
				计算机A首先会发数据帧给路由器E
				但路由器E只知道计算机A的MAC地址 和 路由器F的MAC地址
				那么计算机A怎么跨设备传输数据到计算机C？

			流程：
				单从网络层看的简单流程：
				1.计算机A发出的数据帧的IP数据报中记录有目的为计算机C的目的IP地址
				2.计算机A查询它的路由表发现下一跳为路由器E，于是将IP数据报发送给路由器E
				3.路由器E查询它的路由表发现下一跳为路由器F，于是将IP数据报发送给路由器F
				4.路由器F查询它的路由表发现下一跳为它直接连接的计算机C，于是将数据报发送给计算机C

				结合数据链路层、网络层的流程：
				1.计算机A发出有目的地为计算机C的IP数据报的数据帧，查询它的路由表发现下一跳为路由器E
				2.计算机A将IP数据报交给计算机A的数据链路层，并告知目的MAC地址为路由器E的MAC地址
				3.计算机A的数据链路层填充（封装成帧）源MAC地址（计算机A的MAC地址）和目的MAC地址（路由器E的MAC地址）
				4.计算机A的数据链路层通过计算机A的物理层将数据帧发送给路由器E
				---进行逐跳---
				5.路由器E的数据链路层接收到数据帧，把数据帧交给路由器E的网络层
				6.路由器E查询它的路由表，发现下一跳为路由器F
				7.路由器E把数据交给路由器E的数据链路层，并告知目的MAC地址为路由器F的MAC地址
				8.路由器E的数据链路层填充（封装成帧）源MAC地址（路由器E的MAC地址）和目的MAC地址（路由器F的MAC地址）
				9.路由器E的数据链路层通过路由器E的物理层将数据帧发送给路由器F
				---进行逐跳---
				10.路由器F的数据链路层接收到数据帧，并交给路由器F的网络层
				11.路由器F查询它的路由表，发现下一跳为计算机C
				12.路由器F把IP数据报交给路由器F的数据链路层，并告知目的地为计算机C
				13.路由器F的数据链路层填充（封装成帧）源MAC地址（路由器F的MAC地址）和目的MAC地址（计算机C的MAC地址）
				14.路由器F的数据链路层通过路由器F的物理层将数据帧发送给计算机C

			数据帧每一跳的MAC地址（源MAC地址、目的MAC地址）都在变化
			IP数据报每一跳的IP（源IP地址、目的IP地址）始终不变————因为就是端到端的通信