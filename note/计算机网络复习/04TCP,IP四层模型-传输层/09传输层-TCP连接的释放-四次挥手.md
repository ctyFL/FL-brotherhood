传输层-TCP连接的释放-四次挥手：

			将通信的两台计算机命名为：发送方、接收方

			发送方、接收方已建立起了TCP连接，它们之间可以一直进行数据传输




			假设现在数据传输已经完成了
			发送方想要主动释放连接


			第一次挥手：
				发送方主动要求释放连接，发送一个特殊的报文（FIN=1，seq=u）
				FIN=1，表示我需要释放这个连接（第一次挥手）
				seq=u，同步数据的序号，这里为u

				状态：发送方发送这个报文后，就处于 “连接结束的第一个等待”（FIN-WAIT-1）的状态


			第二次挥手：
				接收方接收到这个报文后，得知对方要结束连接了
				就会发送一个确认报文（ACK=1，seq=v，ack=u+1）
				ACK=1，确认号，对序号u的确认
				seq=v，同步自己的数据的序号，为v
				ack=u+1，表示期望收到的下一个数据的首字节序号为u+1

				状态：发送方收到这个报文后，处于 “连接结束的第二个等待”（FIN-WAIT-2）的状态

					 接收方发送出这个报文后，处于 “关闭等待”（CLOSE-WAIT）的状态
					 这个状态下，接收方还是可以发送数据的

					 因为是发送方主动要求释放连接，所以发送方数据都发送完了
					 但是对于接收方来说，是被动释放连接的，所以接收方的数据可能还没有全部发送完，接收方会继续发送数据


			第三次挥手：
				等到接收方的数据全部发送完了以后
				接收方又会发出一个新的报文（FIN=1，ACK=1，seq=w，ack=u+1）
				表示说我也已经准备好连接的释放了
				FIN=1，表示接收方也可以进行连接的释放了
				ACK=1，表示对序号的u的确认
				seq=w，同步自己的数据的序号，为w
				ack=u+1，表示期望收到的下一个数据的首字节序号为u+1

				状态：接收方发出这个准备好链接释放的释放信号后，就处于 “最后确认”（LAST-ACK）的状态，直到发送方再次发出回应


			第四次挥手：
				发送方接收到了接收方发出的准备好连接释放的信号
				发送方又会发出一个确认报文（ACK=1，seq=u+1，ack=w+1）
				表示说你的释放信号我也已经收到了，现在我们就一起把链接释放掉吧
				ACK=1，表示对序号w的确认
				seq=u+1，同步自己的数据的序号，为u+1
				ack=w+1，表示期望收到的下一个数据的首字节序号为w+1

				状态：发送方在发出这个报文，就会处于一个特殊的状态：“等待计时器”（TIME-WAIT）
					  在这个状态下，发送会等待一段时间（2MSL），确保没有出现问题，就进入了 “关闭状态”

					 接收方收到这个报文后，就进入了 “关闭状态”
				





		等待计时器（TIME-WAIT）：

				MSL（Max Segment Lifetime）：最长报文段寿命

				MSL一般设置为2分钟

				等待计时器会等待2倍的MSL：2MSL

				1.对于每一个TCP连接，它都会占用一个端口
				2.若想启动另一个进程去复用这个端口是不行的，会提示说你的端口被占用
				3.主动释放连接的这一方是不会马上释放这个端口的
				  是因为它会进入 “等待计时器” 的这个状态，计时器在等待的时候是不会释放这个TCP连接
				  的端口的，只有在等待计时器计时结束的时候才会释放这个端口
					（即主动释放连接的这一方需要等待 “2MSL” 的时间，才可以重复利用这个端口）



				为什么需要 “等待计时器” 等待 “2MSL” 的时间？
					1.等待计时器是在发送方（主动释放连接的一方）发出最后一个确认报文的时候启动的
					这时候最后一个确认报文还没有到达对方

					2.这最后一个报文的存活时间也就是2MSL

					3.为了确保发送方（主动释放连接的一方）发出最后一个确认报文可以到达对方（接收方）

					4.若最后一个确认报文接收方（2MSL的时间内）没有接收到的话，则接收方会重新发送表示
					准备好释放连接的报文（第三次挥手）（接收方会认为第三次挥手的报文没有到达对方）

					5.发送方（主动释放连接的一方）再次收到接收方的 “准备好释放连接” 的报文，于是就知
					道，原来最后的确认报文对方没有收到，于是就再次发送一次最后一个确认报文（第四次挥手）


			“等待计时器” 的作用：
				1.确保最后一次的确认报文到达对方，若没到达，则对方会重新发送 “第三次挥手” 的报文，
				以正确地结束这一次连接

				2.确保当前连接的所有报文都已经过期了，因为最后一份报文等待2MSL后过期了，那么之前的报文也肯定都过期了