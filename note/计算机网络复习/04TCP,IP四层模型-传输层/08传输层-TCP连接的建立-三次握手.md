传输层-TCP连接的建立-三次握手：

		回顾前面学的TCP数据报首部中的标记：
			现终点关注这3个：
				ACK：确认位，ACK=1，表示确认号生效
				SYN：同步号，SYN=1，表示连接请求报文
				FIN：终止位，FIN=1，表示释放连接





		现假设一个计算机为发送方、一个计算机为接收方


		第一次握手：
			（发送方主动要求与接收方建立起连接）

				发送方主动发出第一次的报文（SYN=1，seq=x）
				SYN=1，表示连接请求
				seq=x，发送方会同步自己数据的序号，这里为x


		第二次握手：
			（接收方接收到这个报文后，被动地打开TCP连接）

				接收方会返回发送方一个确认报文（SYN=1，ACK=1，seq=y，ack=x+1）
				SYN=1，表示连接请求
				ACK=1，表示对序号x的确认
				ack=x+1，表示下一次期望收到序号为x+1的数据
				seq=y，同时接收方也会同步当前自己的数据的序号，这里为y

		第三次握手：
			（发送方接收到接收方返回的信息后，又发出一个回应--确认报文）

				发送方再次发出一个确认报文（ACK=1，seq=x+1，ack=y+1）
				ACK=1，表示对序号y的确认
				ack=y+1，表示下一次期望收到序号为y+1的数据
				seq=x+1，同时也会同步当前自己的数据的序号，这里为x+1


		三次握手后，双方的TCP连接就建立起来了





		这个过程中的一些状态：

			监听状态（Listen）：接收方在接收到发送方主动建立连接的请求之前，一直处于 “监听” 的状态

			同步已发送（SYNC-SENT）：发送方发出主动建立请求的第一个报文之后，收到接收方返回的报文之
								   前，一直处于 “同步已发送” 的状态

			同步已接收（SYNC-RCVD）：接收方收到连接请求报文并返回一个确认报文之后，收到发送方发出的
								   第二个报文之前，一直处于 “同步已接收” 的状态

			建立连接的状态（ESTABLISHED）：
								对于发送方来说，只要第二次握手成功了（收到接收方的确认报文），就进
								入 “建立连接” 的状态了

								对于接收方来说，只有第三次握手之后（收到发送方的第二个报文），才进
								入 “建立连接” 的状态

		双方都进入 “建立连接” 的状态，就可以进行数据的传输了





		为什么发送方要发出第三个确认报文（第三次握手）？

				避免 “已经失效的连接请求报文” 传送到对方，引起错误
				
					例如：
						(1)发送方发出一个连接请求报文（第一次握手）
						(2)这个报文传输了很久也没有到达接收方，发送方很久都没有收到接收方的确认消息，到了一定时间，发送方认为这个请求报文超时了
						(3)所以发送方再次发送一个连接请求报文（第一次握手），假设这次报文很快就到达了对方，接收方收到后发出确认报文，双方建立起连接

						发送方第二次发出的请求报文比第一次的报文率先到达了接收方
						对于第二次的请求报文，第一次发出的报文就是 “失效的请求报文”（因为此时功能已经完成了，用不到它了）

						若两次握手就可以建立起连接：
							若只要接收方回应就可以建立连接的话，那么发送方一共发送了两次请求报文，
							那接收方就会收到两个请求，收到一个回应一个，那么就会建立起两个TCP连接
							————这是错误的

						所以三次握手就可以解决这个问题：
							接收方会先后回应两个确认报文，发送方首先收到一个，并再发出确认报文，这
							时候双方就建立起连接了，接着，接收方发出的第二确认报文也到达了发送方，
							但此时发送方已经进行过第三次握手了，所以会对第二次的确认报文忽略掉
							
							