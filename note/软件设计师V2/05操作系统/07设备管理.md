设备管理：


		计算机系统的一个重要组成部分是I/O系统

		I/O系统包括：
			输入/输出设备
			存储功能的设备
			设备控制器




		1.设备管理的概念：
			(1)提供和进程管理系统的接口
			(2)进行设备分配
			(3)实现设备和设备之间，设备和CPU之间的并行操作
			(4)进行缓冲区管理



		2.I/O控制方式
			(1)程序I/O控制
			(2)中断控制I/O方式
			(3)直接存储器访问
			(4)I/O通道控制方式
				a.字节多路通道
				b.选择通道
				c.成组多路通道



		3.缓冲管理
			(1)单缓冲
			(2)多缓冲
			(3)循环缓冲
			(4)缓冲池（Buffer pool）

			引入缓冲的主要原因归纳为以下几点
				a.缓和CPU和I/O设备间速度不匹配的矛盾
				b.减少对CPU的中断频率，放宽对CPU中断响应时间的限制
				c.提高CPU和I/O设备之间的并行性

			单缓冲
				在单缓冲的情况下，每当用户进程发出一个I/O请求时，操作系统便在主存中为之分配一缓冲区
				在字符设备输入时，缓冲区用于暂存用户输入的一行数据，在输入期间，用户进程被挂起以等
				待数据输入完毕，在输出时，用户进程将一行数据输入到缓冲区后，继续执行处理，当用户进
				程已有第二行数据输出时，如果第一行数据尚为被提取完毕，则此时用户进程应阻塞

			双缓冲
				为了加快输入和输出速度，提高设备利用率，人们又引入了双缓冲区机制，也称为缓冲对
				（Buffer Swapping）在设备输入时，先将数据送入第一缓冲区，装满后便转向第二缓冲区此
				时操作系统可以从第一缓冲区中移除数据，并送入用户进程

			循环缓冲区
				循环缓冲有多个大小相同的缓冲区，缓冲区有三种类型：
					1.用于装输入数据的空缓冲区
					2.已装满数据的缓冲区G
					3.计算进程正在使用的先行工作缓冲区C

			缓冲池
				对于既可输入又可输出的公有缓冲池，至少应含有三种类型缓冲区：
					1.空缓冲区
					2.装满输入数据的缓冲区
					3.装满输出数据的缓冲区




		4.设备的分配：
			(1)设备的分配原则：
				a.静态分配
				b.动态分配

			(2)设备的分配策略：
				a.先请求先分配
				b.优先级高者先分配



		5.磁盘管理：
			柱面号（磁道号）
			扇面号（磁头号）
			扇区

				(1)磁盘的访问时间：
					a.寻道时间Ts：把磁臂从当前位置移到指定磁道上所经历的时间
					b.旋转延迟时间Tr：指定扇区移动到磁头下面所经历的时间
					c.传输时间Tt：数据从磁盘读出或向磁盘写入户据所经历的时间

					在访问时间中，寻道时间和旋转延迟时间，通常是占据了访问时间的大头，适当地集中
					（不要太零散）传输，将有利于提高传输效率


				(2)磁盘调度算法：
					a.先来先服务（FCFS）：
						根据进程请求访问磁盘的先后次序进行调度
							优点：公平、简单，且每个进程的请求都能依次得到处理，不会出现某一进程的
								 请求长期得不到满足的情况

							缺点：未对寻道进行优化，致使平均寻道时间可能较长，仅适用于请求磁盘I/O
								 的进程数目较少的场合

					b.最短寻道时间优先（SSTF）：
						优先满足访问磁道与当前磁头所在磁道距离最近的进程，以使每次的寻道时间最短
							问题：可能导致某些进程发生 “饥饿”，因为只要不断有要访问的磁道与磁头当
								 前所在磁道的距离较近的新进程到达，就会出现 “老进程饥饿” 现象，这
								 种调度算法不能保证平均寻道时间最短

					c.扫描（SCAN）算法（电梯调度算法）：
						SCAN算法中磁头移动的规律似电梯的运行，又称为电梯调度算法，算法既能获得较好
						的寻道性能，又能防止进程饥饿，被广泛用于大、中、小型机和网络中的磁盘调度
							问题：当磁头刚从里向外移动过某一磁道时，恰有一进程请求访问此磁道，这时
								 该进程必须等待，待磁头从里向外，然后再从外向里扫描完所有要访问的
								 磁道后，才处理该进程的请求，致使该进程的请求被严重的推迟

					d.循环扫描算法CSCAN：
						为了减少请求进程的延迟，CSCAN算法规定磁头单向移动，若规定只自里向外移动，
						当磁头移动最外的被访问磁道时，磁头立即返回到最里的欲访问磁道，即将最小磁道
						号紧接着最大磁道号构成循环，进行扫描




		6.虚设备与SPOOLing技术

			为缓和CPU的高速性能与I/O设备低速性间的矛盾而引入了脱机输入、脱机输出技术，该技术是利用
			的外围控制机，将低速设备上的数据传送到高速磁盘上，或者相反

			这样就可以在主机的直接控制下实现脱机输入输出，此时外围操作与CPU对数据的处理同时进行，我
			们把这种在联机情况下实现的同时外围操作称SPOOLing（Simultaneaus Periphernal 
			Operating On————Line），或称为假脱机操作

			SPOOLing系统有三大部分组成：
				(1)输入井和输出井，是磁盘上开辟的两个大存储空间
				(2)输入缓冲区和输出缓冲区，在内存中开辟两个缓冲区，输入缓冲区暂存由输入设备送来的数
				   据，后送输入井，输出缓冲区暂存从输出井送来的数据，后送输出设备
				(3)输入进程和输出进程，利用两个进程模拟脱机I/O时的外围处理机

			SPOOLing系统的特点：
				(1)提高了I/O速度，利用输入输出井模拟成脱机输入输出，缓和了CPU和I/O设备速度不匹配的
				   矛盾
				(2)将独占设备改造为共享设备
				(3)实现了虚拟设备功能，多个进程同时使用一台独占设备，虚拟成了多台设备