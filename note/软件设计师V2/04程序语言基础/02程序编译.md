程序编译：


		编译程序工作可分为6个阶段：

				1.词法分析
				2.语法分析
				3.语义分析
				4.中间代码生成
				5.代码优化
				6.目标代码生成





		1.词法分析：
				输入源程序（高级语言或汇编语言编写的代码），对构成源程序的字符串进行扫描和分解，识
				别出一个个单词（如：识别出 “if” 是一个关键字），删掉无用信息（如注释），报告分析时
				的错误


				(1)一个程序语言的基本语法符号分为五类：

									1.关键字（如：if else..）
									2.标识符（如：定义一个变量a）
									3.常量
									4.运算符（加减乘除...）
									5.界符（大括号、小括号...）


				(2)二元式：
					词法分析器所输出的单词符号常表示为 “二元式”：

					二元式：单词种类 + 单词符号的属性值

					二元式表示方法有以下两种：
								一：
									如：1=关键字（1表示单词种类为关键字），2=标识符，3=常量，4=运算符，5=界符

										表示 “if”：
												二元式：1 + “一个指向内存中if的指针” 
										表示 “变量a”：
												二元式：2 + “一个指向内存中a的指针”


								二：
									如：C语言中关键字一共有32种，就把编号1~32用来表示关键字
									编号33代表表示符，34代表“+”...

										表示 “if”：（假设if的编号为15）
											二元式：15 + [属性值] （这里不用看属性值，看到15就知道是关键字if了）

										表示标识符时：（33代表标识符）
											二元式：33 + [属性值：指向内存中某一标识符的指针]
												（这时就要看“属性值”了，因为标识符有很多种）



				(3)描述词法的规则：
						1.正规式：

							先了解 “状态转换图”
							状态转换图：
									状态转换图是 “状态有限” 的有向图，用 “圆圈表示节点状态”，节
									点之间 “有向边代表状态转换”，有向边上可标记字符，表示前一状态
									接受某一字符之后的状态转移
									（详见“状态转换图1.jpg”）

									状态转换图的功能、要求（详见“状态转换图2.jpg”）

									状态转换图的表示习惯（详见“状态转换图3.jpg”）

									例：（详见“状态转换图例子4.jpg”）


							正规式：
								状态转换图可以构造词法分析程序，但属于 “非形式化描述”————不严谨
								所以需要更严谨的方式：“正规表达式（简称正规式）”

								正规式是词法分析的 “形式化表示方法”
								所为形式化的方法 ，是指用一整套带有严格规定的符号体系来描述

								优点：更加清晰、准确

								正规式与正规集的递归定义：(详见：正规式与正规集的递归定义123.jpg)

								例：（详见：正规式与正规集的递归定义例1、2.jpg）


						2.有限自动机：
								比正规式更严谨的表示方法
								详见：有限状态机1、2、3.jpg






		2.语法分析：
				语法分析器以单词符号作为输入，分析单词符号串是否形成符合语法规则的语法单位
				如表达式、赋值、循环等
				按语法规则分析检查每条语句是否有正确的 “逻辑结构”
				（如：一个"("后，是否有")"————括号是否匹配等）

				例：
					int arr[2]，b；
					b = arr * 10；

					以上两句语句：先是定义了数组arr，b
								 然后将 arr * 10 赋值给b（数组这里是一个地址，并不能乘以10）

								虽然我们认为数组*10是错的，但是语法分析不检查这个，它认为是对的，
								语法分析只检查是否是正确的 “逻辑结构”
								（这里检查它就是一个算术表达式，所以认为是对的）




				语法分析方法：
							自上而下分析法
							自下而上分析法






		3.语义分析：
				检查源程序是否存在语义错误，并收集类型信息供后面的代码生成阶段使用
				“只有语法和语义都正确的源程序才能翻译成正确的目标代码”

				语义分析的主要工作：
								进行 “各类型分析和检查”，赋值语句的 “左端和右端的类型” 是否匹配
								表达式的除数是否为零等

				如：
					1.int b = 3.14（将3.14赋值给整型的b，这里就检查出错误）
					2.之前的例子 “数组arr*10”，这里也会检查出错误






		4.中间代码生成：
				语法分析、语义分析都没有错误，就可以进入到中间代码生成阶段

				中间代码生成阶段的主要工作是 “根据语义分析的输出” 生成中间代码	

				中间代码是一种 “简单且含义明确的记号系统”
				可以有若干种形式，常见的有：
									逆波兰记号
									四元式
									三元式
									树
					他们的共同特征是 “代码的方式与具体的机器无关”






		5.代码优化：
				中间代码的时间效率、空间效率都不高，所以需要优化

				优化代码阶段是对前阶段产生的中间代码进行变换或进行改造
				目的是使生成的目标代码更为高级，即 “节省时间、节省空间”








		6.目标代码生成阶段：
				把优化后的中间代码转换成 “特定机器上的绝对指令代码” 或 “可重定位的指令代码” 
				或 “汇编指令代码”，这是编译的最后阶段，工作与硬件系统的结构和指令的含义有关